<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Babypeacock â€” Teaser v2.2 (Clean, Loop, Glow)</title>
<style>
  :root{
    --ship-size: 420px;   /* max gemi geniÅŸliÄŸi */
    --tilt: 0deg;         /* gemi eÄŸimi (dÃ¼z) */
    --engine-top: 72%;    /* egzoz merkez Y (shipWrap iÃ§inde) */
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; overflow:hidden; color:#eaf8ff;
    background: radial-gradient(1200px 700px at 50% 85%, #000014 0%, #000 90%);
    font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
    text-align:center;
  }

  /* yÄ±ldÄ±z alanÄ± */
  canvas#stars{position:fixed; inset:0; z-index:0}

  /* baÅŸlÄ±k */
  .title{position:fixed; left:0; right:0; top:5.5vh; z-index:5}
  .title h1{margin:0; font-weight:800; letter-spacing:.04em; font-size:clamp(26px,6vw,44px);
            text-shadow:0 0 20px rgba(0,224,164,.30), 0 0 2px #fff}
  .title .sub{margin-top:6px; opacity:.95; color:#d6efe9; font-size:clamp(12px,3.2vw,16px)}

  /* sahne */
  .stage{position:fixed; inset:0; z-index:2; pointer-events:none; display:grid; place-items:center}
  .shipWrap{
    position:relative;
    width:min(60vw,var(--ship-size));
    transform: rotate(var(--tilt));
    filter: drop-shadow(0 10px 28px rgba(0,0,0,.45)) drop-shadow(0 0 10px rgba(255,255,210,.12));
    /* Ä°leri-geri ve hafif sÃ¼zÃ¼lme (kaybolmadan) */
    animation: bob 3.6s ease-in-out infinite, inout 8s ease-in-out infinite;
  }
  @keyframes bob{0%,100%{transform:translateY(0) rotate(var(--tilt))}50%{transform:translateY(-8px) rotate(var(--tilt))}}
  @keyframes inout{
    0%,100%  { transform: translateY(0) scale(0.96) rotate(var(--tilt)); }
    50%      { transform: translateY(-6px) scale(1.06) rotate(var(--tilt)); }
  }

  /* Gemi gÃ¶rselini gÃ¶stereceÄŸimiz canvas */
  #shipCanvas{width:100%; height:auto; display:block}

  /* Motor parÄ±ltÄ±sÄ± ve Ä±ÅŸÄ±k izi (shipWrap iÃ§ine gÃ¶re konumlanÄ±r) */
  .engine{
    position:absolute; left:50%; top:var(--engine-top);
    transform: translateX(-50%);
    width:24%; aspect-ratio:1/1; border-radius:50%;
    background: radial-gradient(circle at 50% 50%, rgba(184,255,241,1) 0%,
                                 rgba(54,255,210,.9) 35%, rgba(0,159,147,.5) 70%, transparent 75%);
    mix-blend-mode:screen; filter: blur(6px); opacity:.9;
    animation: pulse .16s ease-in-out infinite;
  }
  .trail{
    position:absolute; left:50%; top:calc(var(--engine-top) + 6%);
    transform: translateX(-50%);
    width:4%; height:56vh; pointer-events:none;
    background:
      linear-gradient(to bottom, rgba(53,255,210,.55), rgba(0,120,255,.10) 70%, rgba(0,0,0,0) 100%);
    filter: blur(8px);
    opacity:.75;
  }
  @keyframes pulse{0%,100%{opacity:.8}50%{opacity:1}}

  /* hareket azaltma */
  @media (prefers-reduced-motion:reduce){
    *{animation:none!important; transition:none!important}
  }
</style>
</head>
<body>
  <canvas id="stars"></canvas>

  <div class="title">
    <h1>Babypeacock</h1>
    <div class="sub">From feather to flight ðŸ¦šâš¡</div>
  </div>

  <div class="stage">
    <div class="shipWrap" id="shipWrap">
      <canvas id="shipCanvas"></canvas>
      <div class="engine"></div>
      <div class="trail"></div>
    </div>
  </div>

<script>
/* --------- YÄ±ldÄ±z arka plan --------- */
const bg = document.getElementById('stars');
const g  = bg.getContext('2d',{alpha:false});
function resizeBg(){ bg.width=innerWidth; bg.height=innerHeight }
addEventListener('resize', resizeBg, {passive:true}); resizeBg();
let stars=[];
function seedStars(n=260){ stars = Array.from({length:n},()=>({x:Math.random()*bg.width,y:Math.random()*bg.height,s:Math.random()*1.2+.3})) }
seedStars();
(function loop(){
  g.fillStyle='#000010'; g.fillRect(0,0,bg.width,bg.height);
  g.fillStyle='#cde8ff';
  for(const st of stars){ st.y+=st.s; if(st.y>bg.height){st.y=-2; st.x=Math.random()*bg.width} g.fillRect(st.x,st.y,1.3,1.3) }
  requestAnimationFrame(loop);
})();

/* --------- Gemi: siyah arka planÄ± ÅŸeffaf yap --------- */
const shipCanvas = document.getElementById('shipCanvas');
const sc = shipCanvas.getContext('2d');
const img = new Image();
img.src = 'Assets.png';    // gÃ¶rselin
img.onload = () => {
  drawShip();              // ilk Ã§izim
  addEventListener('resize', drawShip, {passive:true});
};
function drawShip(){
  // shipCanvas boyutunu shipWrap geniÅŸliÄŸine gÃ¶re ayarla
  const wrap = document.getElementById('shipWrap');
  const w = wrap.clientWidth;
  const ratio = img.height / img.width;
  shipCanvas.width  = Math.floor(w);
  shipCanvas.height = Math.floor(w * ratio);

  // orijinal boyutta iÅŸleme yap (siyahÄ± alfa=0 yap)
  const off = document.createElement('canvas');
  off.width = img.width; off.height = img.height;
  const ox = off.getContext('2d');
  ox.drawImage(img, 0, 0);
  const data = ox.getImageData(0,0,off.width,off.height);
  const d = data.data;

  for(let i=0;i<d.length;i+=4){
    const r=d[i], g=d[i+1], b=d[i+2];
    const lum = (r+g+b)/3;
    // siyaha yakÄ±nlarÄ± ÅŸeffafla (eÅŸik: 32) + Ã§ok koyu yeÅŸiller iÃ§in kÃ¼Ã§Ã¼k marj
    if (lum < 32 || (r<34 && g<34 && b<34)) {
      d[i+3] = 0; // alpha = 0
    }
  }
  ox.putImageData(data,0,0);

  // iÅŸlenen gÃ¶rseli ana canvasâ€™a Ã¶lÃ§ekle
  sc.clearRect(0,0,shipCanvas.width,shipCanvas.height);
  sc.drawImage(off, 0, 0, shipCanvas.width, shipCanvas.height);
}
</script>
</body>
</html>
