<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>BabyPeacock â€¢ Epik Mars Ä°niÅŸi</title>
<style>
  :root{
    --descent-time: 6s;          /* iniÅŸ sÃ¼resi */
    --shake-time: .8s;           /* sarsÄ±ntÄ± sÃ¼resi */
    --dust-time: 1.8s;           /* toz halkasÄ± sÃ¼resi */
    --idle-bob-time: 2.8s;       /* yerde hafif salÄ±nÄ±m */
  }
  html,body{height:100%;margin:0;background:#000;color:#fff;font-family:system-ui,Segoe UI,Roboto,Arial}
  .stage{
    position:fixed; inset:0; overflow:hidden;
    background:#1a1a1a url("./mars.png") center/cover no-repeat fixed;
  }
  .vignette::after{
    content:""; position:absolute; inset:0; pointer-events:none;
    background:linear-gradient(to top, rgba(0,0,0,.25) 0%, rgba(0,0,0,0) 45%);
  }

  /* Ä°niÅŸ platformu merkezi */
  .pad{position:absolute; inset:0; display:grid; place-items:center}

  /* Gemi konteyneri */
  .lander{
    position:absolute; width:min(26vmin,240px); aspect-ratio:1/1;
    transform-origin:50% 50%;
    animation: descend var(--descent-time) cubic-bezier(.1,.8,.2,1) forwards,
               bob var(--idle-bob-time) ease-in-out var(--descent-time) infinite alternate;
    will-change: transform;
  }
  .ship{
    width:100%; height:100%;
    background:url("./Assets.png") center/contain no-repeat;
    filter: drop-shadow(0 8px 14px rgba(0,0,0,.35));
    position:relative;
  }

  /* Motor jetleri (plume) */
  .plumes{ position:absolute; left:50%; bottom:-6%; width:70%; height:35%; transform:translateX(-50%); pointer-events:none;}
  .plume{
    position:absolute; bottom:0; width:34%; height:100%; left:50%;
    transform-origin:50% 100%;
    background:
      radial-gradient(50% 55% at 50% 100%, rgba(255,210,130,.85), rgba(255,145,60,.55) 55%, rgba(255,145,60,0) 75%);
    filter: blur(1px);
    mix-blend-mode: screen;
    animation: plumePulse .22s ease-in-out infinite, plumeFade var(--descent-time) ease-out forwards;
  }
  .plume.left{ transform:translate(calc(-50% - 40%),0) scaleX(.9) rotate(-3deg); }
  .plume.right{ transform:translate(calc(-50% + 40%),0) scaleX(.9) rotate(3deg); }

  /* Ä°niÅŸ gÃ¶lgesi */
  .shadow{
    position:absolute; left:50%; bottom:1.8vmin; translate:-50% 0;
    width:38vmin; max-width:360px; height:4vmin; max-height:28px;
    background:radial-gradient(50% 50% at 50% 50%, rgba(0,0,0,.45), rgba(0,0,0,0) 70%);
    opacity:0; filter:blur(2px);
    animation: shadow-in var(--descent-time) ease-out forwards;
  }

  /* Toz halkasÄ± (iniÅŸ anÄ±nda yayÄ±lÄ±r) */
  .dust-ring{
    position:absolute; left:50%; bottom:2.2vmin; translate:-50% 0;
    width:2vmin; height:2vmin; border-radius:50%;
    box-shadow:0 0 0 0 rgba(167,104,61,0);
    opacity:0;
    animation: dust var(--dust-time) ease-out calc(var(--descent-time) - .15s) forwards;
  }

  /* ParÃ§acÄ±k alanÄ± */
  .dustfield{ position:absolute; left:50%; bottom:2.2vmin; transform:translateX(-50%); width:60vmin; height:24vmin; pointer-events:none; overflow:visible;}
  .particle{
    position:absolute; bottom:0; width:.9vmin; height:.9vmin; border-radius:50%;
    background:rgba(167,104,61,.9);
    filter: blur(.3px);
    opacity:0;
  }

  /* Ekran shake */
  .shake{ animation: screen-shake var(--shake-time) ease-in-out both; }

  /* UI */
  .safe{ position:fixed; top:env(safe-area-inset-top,0); left:env(safe-area-inset-left,0); right:env(safe-area-inset-right,0); padding: clamp(8px, 2vmin, 16px); display:flex; gap:10px; align-items:center;}
  .brand{ font-weight:700; letter-spacing:.3px; text-shadow:0 1px 2px rgba(0,0,0,.35); }
  .btn{
    margin-left:auto; font-size:14px; padding:.5rem .8rem; border-radius:999px; background:rgba(0,0,0,.45);
    border:1px solid rgba(255,255,255,.15); color:#fff; cursor:pointer;
  }
  .btn:active{ transform:scale(.98); }
  .hint{ position:fixed; right:12px; bottom:10px; font-size:12px; opacity:.7; user-select:none; background:rgba(0,0,0,.35); padding:6px 10px; border-radius:10px; backdrop-filter:blur(4px); }

  /* Animasyonlar */
  @keyframes descend{
    from{ transform: translate3d(0,-70vh,0) scale(1.05) rotate(-2deg); }
    72% { transform: translate3d(0,3vh,0)  scale(1.0) rotate(0deg); }
    to  { transform: translate3d(0,0,0)   scale(1.0) rotate(0deg); }
  }
  @keyframes bob{ from{ transform: translate3d(0,-.6vmin,0) } to{ transform: translate3d(0,.6vmin,0) } }
  @keyframes shadow-in{ from{opacity:0; transform:scale(.2)} 60%{opacity:.65; transform:scale(.9)} to{opacity:.85; transform:scale(1)} }
  @keyframes dust{
    0%{   opacity:0; box-shadow:0 0 0 0 rgba(167,104,61,0) }
    1%{   opacity:.22 }
    100%{ opacity:0; box-shadow:0 0 36vmin 10vmin rgba(167,104,61,.34) }
  }
  @keyframes plumePulse{
    0%{ transform: translateX(var(--dx,0)) scaleY(.92) }
    50%{ transform: translateX(var(--dx,0)) scaleY(1.08) }
    100%{ transform: translateX(var(--dx,0)) scaleY(.92) }
  }
  @keyframes plumeFade{
    0%{ opacity:1; filter:blur(0.6px) }
    85%{ opacity:1 }
    100%{ opacity:0; filter:blur(1.2px) }
  }
  @keyframes screen-shake{
    0%{ transform: translate(0,0) }
    20%{ transform: translate(2px,-2px) }
    40%{ transform: translate(-3px,2px) }
    60%{ transform: translate(3px,1px) }
    80%{ transform: translate(-2px,-1px) }
    100%{ transform: translate(0,0) }
  }
</style>
</head>
<body>
  <div class="stage vignette" id="stage">
    <div class="safe">
      <div class="brand">ðŸ¦š Babypeacock â€” Epik Mars Ä°niÅŸi</div>
      <button class="btn" id="replay">Tekrar Oynat</button>
    </div>

    <div class="pad">
      <div class="lander" id="lander">
        <div class="ship" aria-label="BabyPeacock Lander">
          <div class="plumes">
            <div class="plume left"  style="--dx:-1px"></div>
            <div class="plume right" style="--dx: 1px"></div>
          </div>
        </div>
        <div class="shadow"></div>
        <div class="dust-ring"></div>
        <div class="dustfield" id="dustfield"></div>
      </div>
    </div>

    <div class="hint">ðŸ‘† Ekrana dokun: tekrar oynat</div>
  </div>

<script>
  const stage  = document.getElementById('stage');
  const lander = document.getElementById('lander');
  const replay = document.getElementById('replay');
  const dustfield = document.getElementById('dustfield');

  // Basit parÃ§acÄ±k Ã¼retici
  function burstParticles(count=80){
    dustfield.innerHTML = '';
    for(let i=0;i<count;i++){
      const p = document.createElement('div');
      p.className = 'particle';
      const dir = (Math.random()*2-1);        // -1..1
      const dist = 12 + Math.random()*22;     // vmin
      const up = 4 + Math.random()*8;         // vmin dikey
      const dur = 600 + Math.random()*900;    // ms
      p.style.left = (50 + dir*45) + '%';
      p.style.opacity = .0;
      dustfield.appendChild(p);
      // animate via JS for hafif rastgele akÄ±ÅŸ
      requestAnimationFrame(()=>{
        p.animate([
          { transform:'translate(0,0)', opacity:.0 },
          { transform:`translate(${dir*dist}vmin, -${up}vmin)`, opacity:.9, offset:.25 },
          { transform:`translate(${dir*dist*1.2}vmin, -${up*1.1}vmin)`, opacity:0 }
        ], { duration: dur, easing:'ease-out', fill:'forwards', delay: Math.random()*120 });
      });
    }
  }

  function restart(){
    // animasyonlarÄ± sÄ±fÄ±rla
    const clone = lander.cloneNode(true);
    lander.replaceWith(clone);
    // parÃ§acÄ±k hedefini gÃ¼ncelle
    clone.querySelector('#dustfield')?.remove();
    const df = document.createElement('div'); df.id='dustfield'; df.className='dustfield';
    clone.appendChild(df);

    // iniÅŸ sonuna yakÄ±n ekran sarsÄ±ntÄ±sÄ± + parÃ§acÄ±k patlamasÄ±
    const descentMs = 6000;         // --descent-time ile senkron
    setTimeout(()=>{ stage.classList.add('shake'); burstParticles(85); }, descentMs - 180);
    setTimeout(()=> stage.classList.remove('shake'), descentMs - 180 + 800);

    // tekrar kullanmak iÃ§in referanslarÄ± gÃ¼ncelle
    lander.id = '';
    lander.remove();
    window.lander = clone;
  }

  replay.addEventListener('click', restart);
  stage.addEventListener('click', (e)=>{
    if(e.target.closest('.safe') || e.target.id === 'replay') return;
    restart();
  });

  // Ä°lk yÃ¼klemede de zamanla tetikle
  setTimeout(()=>{ stage.classList.add('shake'); burstParticles(85); }, 6000 - 180);
  setTimeout(()=> stage.classList.remove('shake'), 6000 - 180 + 800);

  // GÃ¶rselleri Ã¶nceden yÃ¼kle
  ['mars.png','Assets.png'].forEach(src=>{ const i=new Image(); i.src=src; });
</script>
</body>
</html>
