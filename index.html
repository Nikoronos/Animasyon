<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Babypeacock — 3D Mars İnişi</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  html,body { margin:0; padding:0; overflow:hidden; background:#000; }
  canvas { display:block; touch-action:none; }
  img.ship {
    position:absolute;
    left:50%; top:40%;
    width:14vmin;
    transform:translate(-50%,-50%) scale(0.2);
    transition:transform 6s cubic-bezier(.1,.8,.2,1);
    pointer-events:none;
  }
</style>

</head>
<body>

<canvas id="mars"></canvas>
<img class="ship" id="ship" src="Drone.png">

<script>
const cvs = document.getElementById("mars");
const ctx = cvs.getContext("2d");
let W,H,stones=[];

function resize(){
  W = cvs.width = innerWidth;
  H = cvs.height = innerHeight;
  stones=[];
  for(let i=0;i<160;i++){
    stones.push({
      x: Math.random()*W,
      y: Math.random()*H*0.6 + H*0.4,
      r: Math.random()*3+1
    });
  }
}
resize();
addEventListener("resize", resize);


// Mars yüzeyi procedural çiz
function drawMars(progress){
  ctx.fillStyle = "#6a2a13";
  ctx.fillRect(0,0,W,H);

  // Horizon (ufuk çizgisi)
  const horizon = H*0.42 - progress*H*0.22;

  ctx.fillStyle="#5c2612";
  ctx.fillRect(0, horizon, W, H);

  // Taşlar perspektife göre scale
  for(const s of stones){
    const scale = 1 + progress*2;
    const sy = s.y - progress*H*0.25;
    ctx.beginPath();
    ctx.arc(s.x, sy, s.r*scale, 0, Math.PI*2);
    ctx.fillStyle="rgba(85,40,25,.95)";
    ctx.fill();
  }
}


// Animasyon
let t=0;
function anim(){
  requestAnimationFrame(anim);
  t+=0.002;
  if(t>1) t=1;
  drawMars(t);

  const ship = document.getElementById("ship");
  ship.style.transform = `translate(-50%,-50%) scale(${0.2+0.8*t}) translateY(${40*t}vh)`;
}
anim();

document.body.addEventListener("click", ()=>{
  t=0;
});
</script>

</body>
</html>
