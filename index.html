<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Babypeacock â€” Uzak YakÄ±n Zoom Mars Ä°niÅŸi</title>
<style>
  :root{
    --descent: 6.2s;     /* uzaktan yakÄ±na + aÅŸaÄŸÄ± iniÅŸ sÃ¼resi */
    --shake: .8s;        /* sarsÄ±ntÄ± sÃ¼resi */
    --dust: 1.4s;        /* toz halkasÄ± sÃ¼resi */
  }
  html,body{height:100%;margin:0;background:#000;color:#fff;font-family:system-ui,Segoe UI,Roboto,Arial}
  .stage{
    position:fixed; inset:0; overflow:hidden; touch-action:manipulation;
    background:#1a1a1a url("./mars.png") center/cover no-repeat fixed;
  }
  .stage::after{content:"";position:absolute;inset:0;pointer-events:none;
    background:linear-gradient(to top, rgba(0,0,0,.30) 0%, rgba(0,0,0,0) 55%);}

  /* Ãœst bar */
  .safe{ position:fixed; z-index:20;
    top:env(safe-area-inset-top,0); left:env(safe-area-inset-left,0); right:env(safe-area-inset-right,0);
    padding:clamp(8px,2vmin,16px); display:flex; gap:10px; align-items:center;}
  .brand{ font-weight:800; text-shadow:0 1px 2px rgba(0,0,0,.45)}
  .btn{ margin-left:auto; font-size:14px; padding:.55rem .9rem; border-radius:999px;
    background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.18); color:#fff; cursor:pointer;}
  .btn:active{ transform:scale(.98)}
  .hint{ position:fixed; right:12px; bottom:10px; font-size:12px; opacity:.8; user-select:none;
    background:rgba(0,0,0,.35); padding:6px 10px; border-radius:10px; backdrop-filter:blur(4px); z-index:20;}

  /* Lander: ekrana Ã¼stten uzakta kÃ¼Ã§Ã¼k girer â†’ yaklaÅŸa yaklaÅŸa aÅŸaÄŸÄ± iner */
  .lander{
    position:absolute; left:50%; top:50%;
    width:min(24vmin,240px); aspect-ratio:1/1; transform:translate(-50%,-50%);
    z-index:10; will-change: transform, filter, opacity;
    animation: descend var(--descent) cubic-bezier(.1,.8,.2,1) forwards;
  }
  .ship{
    width:100%; height:100%; object-fit:contain; display:block;
    /* Åžeffaf PNG iÃ§in; gerekirse parÄ±ltÄ± gÃ¼zel dursun */
    mix-blend-mode:screen;
    filter:brightness(1.28) contrast(1.1) drop-shadow(0 10px 18px rgba(0,0,0,.45));
  }

  /* Motor parÄ±ltÄ±sÄ± (Ã¼stten disk) */
  .glow{
    position:absolute; left:50%; top:66%; transform:translate(-50%,-50%);
    width:120%; height:120%; border-radius:50%; pointer-events:none;
    background:radial-gradient(45% 45% at 50% 50%, rgba(255,210,130,.65), rgba(255,145,60,.35) 55%, rgba(255,145,60,0) 72%);
    filter:blur(10px); opacity:0; mix-blend-mode:screen;
    animation: glow var(--descent) ease-out forwards;
  }

  /* GÃ¶lge & toz alanÄ± (iniÅŸ noktasÄ±) */
  .shadow{
    position:absolute; left:50%; top:74%; transform:translate(-50%,-50%);
    width:42vmin; height:42vmin; z-index:3;
    background:radial-gradient(50% 50% at 50% 50%, rgba(0,0,0,.48), rgba(0,0,0,0) 70%);
    filter:blur(8px); opacity:0; animation: shIn var(--descent) ease-out forwards;
  }
  .ring{
    position:absolute; left:50%; top:74%; transform:translate(-50%,-50%);
    width:4vmin; height:4vmin; border-radius:50%; z-index:12; opacity:0;
    box-shadow:0 0 0 0 rgba(167,104,61,0);
    animation: ring var(--dust) ease-out calc(var(--descent) - .1s) forwards;
  }
  .field{ position:absolute; inset:0; pointer-events:none; z-index:12; }
  .dot{ position:absolute; width:.9vmin; height:.9vmin; border-radius:50%;
        background:rgba(167,104,61,.92); filter:blur(.3px); opacity:0; }

  /* Ekran sarsÄ±ntÄ±sÄ± */
  .shake{ animation: shake var(--shake) ease-in-out both; }

  /* ANÄ°MASYONLAR */
  /* UZAKTAN â†’ YAKINA + AÅžAÄžI Ä°NÄ°Åž */
  @keyframes descend{
    from{
      transform:translate(-50%,-50%) translateY(-65vh) scale(.14) rotate(-2deg);
      filter:blur(5px); opacity:.35;
    }
    60%{
      transform:translate(-50%,-50%) translateY(  0vh) scale(.65) rotate(0deg);
      filter:blur(.8px); opacity:.9;
    }
    to{
      transform:translate(-50%,-50%) translateY( 24vh) scale(1.06) rotate(0deg);
      filter:blur(0); opacity:1;
    }
  }
  @keyframes glow{
    0%{ opacity:0; transform:translate(-50%,-50%) scale(.7) }
    55%{ opacity:.9 }
    100%{ opacity:0; transform:translate(-50%,-50%) scale(1.1) }
  }
  @keyframes shIn{
    0%{ opacity:0; transform:translate(-50%,-50%) scale(.25) }
    60%{ opacity:.65; transform:translate(-50%,-50%) scale(.95) }
    100%{ opacity:.85; transform:translate(-50%,-50%) scale(1) }
  }
  @keyframes ring{
    0%{   opacity:0; box-shadow:0 0 0 0 rgba(167,104,61,0) }
    1%{   opacity:.28 }
    100%{ opacity:0; box-shadow:0 0 56vmin 16vmin rgba(167,104,61,.34) }
  }
  @keyframes shake{
    0%{ transform: translate(0,0) }
    20%{ transform: translate(2px,-2px) }
    40%{ transform: translate(-3px,2px) }
    60%{ transform: translate(3px,1px) }
    80%{ transform: translate(-2px,-1px) }
    100%{ transform: translate(0,0) }
  }
</style>
</head>
<body>
  <div class="stage" id="stage">
    <div class="safe">
      <div class="brand">ðŸ¦š Babypeacock â€” Uzak YakÄ±n Zoom Mars Ä°niÅŸi</div>
      <button class="btn" id="replay">Tekrar Oynat</button>
    </div>
    <div class="hint">ðŸ‘† Ekrana dokun: tekrar oynat</div>

    <!-- Ä°niÅŸ etkileri -->
    <div class="shadow" id="shadow"></div>
    <div class="ring" id="ring"></div>
    <div class="field" id="field"></div>

    <!-- Gemi -->
    <div class="lander" id="lander">
      <img class="ship" src="./drone.png" alt="BPC Drone">
      <div class="glow"></div>
    </div>
  </div>

<script>
const stage  = document.getElementById('stage');
const lander = document.getElementById('lander');
const ring   = document.getElementById('ring');
const field  = document.getElementById('field');
const replay = document.getElementById('replay');

function particles(n=120){
  field.innerHTML='';
  const cx = innerWidth/2;
  const cy = innerHeight*0.74; // iniÅŸ halkasÄ± hizasÄ±
  for(let i=0;i<n;i++){
    const d=document.createElement('div'); d.className='dot';
    d.style.left = (cx + (Math.random()*20-10))+'px';
    d.style.top  = (cy + (Math.random()*16- 8))+'px';
    field.appendChild(d);
    const ang=Math.random()*Math.PI*2, dist=10+Math.random()*26, up=-2+Math.random()*4, dur=650+Math.random()*950;
    requestAnimationFrame(()=>{
      d.animate([
        { transform:'translate(0,0)', opacity:.0 },
        { transform:`translate(${Math.cos(ang)*dist}vmin, ${Math.sin(ang)*dist+up}vmin)`, opacity:.95, offset:.25 },
        { transform:`translate(${Math.cos(ang)*dist*1.2}vmin, ${Math.sin(ang)*dist*1.2+up}vmin)`, opacity:0 }
      ], { duration:dur, easing:'ease-out', fill:'forwards', delay:Math.random()*120 });
    });
  }
}
function shakeOnce(){
  stage.classList.add('shake');
  setTimeout(()=>stage.classList.remove('shake'), 800);
}
function restart(){
  // animasyonlarÄ± sÄ±fÄ±rla
  lander.style.animation='none'; ring.style.animation='none';
  requestAnimationFrame(()=>{ lander.style.animation=''; ring.style.animation=''; });

  // efekt zamanlamasÄ± (iniÅŸten hemen Ã¶nce)
  const T = 6200;
  setTimeout(()=>{ shakeOnce(); particles(120); }, T - 140);
}

// ilk yÃ¼klemede otomatik efekt
setTimeout(()=>{ shakeOnce(); particles(120); }, 6200 - 140);

// etkileÅŸim
replay.addEventListener('click', restart);
stage.addEventListener('click', (e)=>{
  if(e.target.closest('.safe') || e.target.id==='replay') return;
  restart();
});

// gÃ¶rsel Ã¶n yÃ¼kleme
['mars.png','drone.png'].forEach(src=>{ const i=new Image(); i.src=src; });
</script>
</body>
</html>
